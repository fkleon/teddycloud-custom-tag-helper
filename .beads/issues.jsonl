{"id":"teddycloud-custom-tag-helper-078","title":"Fix default language not applied to new tonies","description":"## Problem\nWhen creating a new tonie, the language field always defaults to 'en-us' regardless of the default_language setting in config.yaml.\n\n## Root Cause\n\\ hardcodes the fallback:\n\\\nThe backend properly exposes \\ via \\, but:\n1. Dashboard.jsx only extracts \\ from config (line 86-94)\n2. TonieEditor never receives default_language as a prop\n\n## Files to Modify\n- \\ - Pass default_language to TonieEditor\n- \\ - Use prop instead of hardcoded 'en-us'\n\n## Acceptance Criteria\n- [ ] New tonies use config.default_language when no language specified\n- [ ] Existing tonies retain their language when editing\n- [ ] Setting de-de in config results in German default","status":"closed","priority":2,"issue_type":"task","assignee":"--json","created_at":"2025-12-26T15:50:35.6458518+01:00","updated_at":"2025-12-26T18:25:23.3037654+01:00","closed_at":"2025-12-26T18:25:23.3037654+01:00","close_reason":"Implemented: Dashboard now passes default_language to TonieEditor, which uses it instead of hardcoded 'en-us'"}
{"id":"teddycloud-custom-tag-helper-16k","title":"Auto-select first Toniebox when multiple boxes exist","description":"## Problem\nWhen multiple Tonieboxes are configured and no box is explicitly selected:\n- TagStatusField shows 'No Toniebox selected' (disabled state)\n- Tag detection features are unavailable\n- User must manually go to Settings to select a box\n\n## Expected Behavior\nIf no box is selected but boxes are available, auto-select the first one.\n\n## Root Cause\n- Dashboard.jsx loads config but doesn't handle missing selected_box\n- TagStatusField requires selectedBox prop to function\n\n## Files to Modify\n- frontend/src/pages/Dashboard.jsx - Auto-select first available box if none selected\n- frontend/src/components/TagStatusField.jsx - Improve fallback behavior\n\n## Acceptance Criteria\n- [ ] First available box auto-selected if none configured\n- [ ] TagStatusField works immediately after setup with multiple boxes\n- [ ] User can still change box in Settings","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T15:51:00.8086994+01:00","updated_at":"2025-12-26T15:51:00.8086994+01:00"}
{"id":"teddycloud-custom-tag-helper-35l","title":"Add pagination UI to Tonies and RFID Tags views","description":"## Problem\nTonieGrid and RFIDTagsView render all items at once without pagination.\n\n## Components Affected\n- frontend/src/components/TonieGrid.jsx - Tonies view\n- frontend/src/components/RFIDTagsView.jsx - RFID Tags view\n\n## Changes Needed\nSame pattern as TAFLibrary pagination:\n1. Add pagination state (page, pageSize)\n2. Update API calls with skip/limit params\n3. Add pagination controls\n\n## Files to Modify\n- frontend/src/components/TonieGrid.jsx\n- frontend/src/components/RFIDTagsView.jsx\n- frontend/src/api/client.js - Update API methods\n\n## Dependencies\n- Requires: Backend pagination support\n\n## Acceptance Criteria\n- [ ] Tonies view has pagination controls\n- [ ] RFID Tags view has pagination controls\n- [ ] Consistent pagination UI across all views","status":"closed","priority":2,"issue_type":"task","assignee":"--json","created_at":"2025-12-26T15:51:28.0963978+01:00","updated_at":"2025-12-26T17:46:25.0412226+01:00","closed_at":"2025-12-26T17:46:25.0412226+01:00","close_reason":"Implemented frontend pagination UI with shared Pagination component, updated all views (TAFLibrary, TonieGrid, RFIDTagsView), API client, and translations","dependencies":[{"issue_id":"teddycloud-custom-tag-helper-35l","depends_on_id":"teddycloud-custom-tag-helper-ybn","type":"blocks","created_at":"2025-12-26T15:53:15.26288+01:00","created_by":"daemon"}]}
{"id":"teddycloud-custom-tag-helper-b9r","title":"Add missing translations to TonieEditor component","description":"## Problem\nTonieEditor.jsx contains 12 hardcoded English strings that don't use the i18n system.\n\n## Untranslated Strings\n| Line | String | German |\n|------|--------|--------|\n| 269 | 'Edit Custom Tonie'/'Create Custom Tonie' | 'Tonie bearbeiten'/'Eigenen Tonie erstellen' |\n| 308 | 'Parsing TAF...' | 'TAF wird analysiert...' |\n| 313 | 'Browse Library →' | 'Bibliothek durchsuchen →' |\n| 405 | 'Hide'/'Show' | 'Verbergen'/'Anzeigen' |\n| 429 | 'Unconfigured'/'Unassigned' | 'Nicht konfiguriert'/'Nicht zugewiesen' |\n| 437/444 | 'Place a Creative Tonie on your TeddyCloud Box...' | 'Platzieren Sie einen Creative Tonie...' |\n| 514 | 'Choose from library' | 'Aus Bibliothek wählen' |\n| 554 | 'Uploading...' | 'Wird hochgeladen...' |\n| 577 | 'Update Tonie'/'Create Tonie' | 'Tonie aktualisieren'/'Tonie erstellen' |\n| 586 | 'Choose from Library' | 'Aus Bibliothek auswählen' |\n| 590 | 'No covers found in library' | 'Keine Cover in der Bibliothek gefunden' |\n\n## Files to Modify\n- \\ - Import useTranslation, replace strings\n- \\ - Add translation keys\n- \\ - Add German translations\n\n## Acceptance Criteria\n- [ ] All strings use t() function\n- [ ] Translation keys added to both locale files\n- [ ] German UI shows translated strings","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T15:50:38.6127818+01:00","updated_at":"2025-12-26T16:12:41.3921741+01:00","closed_at":"2025-12-26T16:12:41.3921741+01:00","close_reason":"Added all missing translations to components and locale files"}
{"id":"teddycloud-custom-tag-helper-qgq","title":"Add box filtering to RFID Tags view","description":"## Problem\nRFID Tags view shows tags from ALL Tonieboxes mixed together without filtering.\nWhen multiple boxes exist, users cannot distinguish which tag belongs to which box.\n\n## Current Behavior\n- GET /api/rfid-tags/ returns all tags from all boxes\n- RFIDTagsView.jsx renders all tags without box identification\n- No way to filter by selected box\n\n## Expected Behavior\n- Show box identifier on each tag row, OR\n- Add dropdown filter to select which box's tags to view, OR\n- Respect app.selected_box setting\n\n## Files to Modify\n- frontend/src/components/RFIDTagsView.jsx - Add box filter dropdown\n- backend/app/api/rfid_tags.py - Consider adding box_id filter param\n\n## Acceptance Criteria\n- [ ] Users can identify which box each tag belongs to\n- [ ] Optional: Filter dropdown to show tags per box\n- [ ] Works consistently with TagStatusField's per-box behavior","status":"in_progress","priority":2,"issue_type":"task","assignee":"claude","created_at":"2025-12-26T15:51:02.1616171+01:00","updated_at":"2025-12-26T18:29:26.3404207+01:00"}
{"id":"teddycloud-custom-tag-helper-s2e","title":"Add missing translations to TAFLibrary component","description":"## Problem\nTAFLibrary.jsx contains 11 hardcoded English strings that don't use the i18n system.\n\n## Untranslated Strings\n| Line | String | German |\n|------|--------|--------|\n| 51 | 'Connection Error' | 'Verbindungsfehler' |\n| 57 | 'Retry' | 'Erneut versuchen' |\n| 70 | 'Total TAF Files' | 'Gesamt TAF Dateien' |\n| 74 | 'Linked to Tonies' | 'Mit Tonies verknüpft' |\n| 78 | 'Orphaned Files' | 'Verwaiste Dateien' |\n| 95 | 'All Files' | 'Alle Dateien' |\n| 105 | 'Orphaned' | 'Verwaist' |\n| 115 | 'Linked' | 'Verknüpft' |\n| 175 | 'tracks' | 'Titel' |\n| 231 | 'Custom'/'Official' | 'Eigene'/'Offiziell' |\n| 244 | 'Create Tonie' | 'Tonie erstellen' |\n| 254 | 'No TAF files found' | 'Keine TAF Dateien gefunden' |\n\n## Files to Modify\n- \\ - Import useTranslation, replace strings\n- \\ - Add translation keys\n- \\ - Add German translations\n\n## Acceptance Criteria\n- [ ] All strings use t() function\n- [ ] Translation keys added to both locale files\n- [ ] German UI shows translated strings","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T15:50:37.1324802+01:00","updated_at":"2025-12-26T16:12:41.3880213+01:00","closed_at":"2025-12-26T16:12:41.3880213+01:00","close_reason":"Added all missing translations to components and locale files"}
{"id":"teddycloud-custom-tag-helper-snt","title":"Add pagination UI to TAFLibrary component","description":"## Problem\nTAFLibrary renders ALL TAF files to the DOM at once, causing:\n- Slow initial render with large libraries\n- High memory usage\n- Poor scrolling performance\n\n## Current Implementation\n- Line 122: filteredFiles.map() renders all items\n- No pagination controls\n- Client-side filtering on entire array\n\n## Changes Needed\n1. Add pagination state (page, pageSize)\n2. Update API call to use skip/limit params\n3. Add pagination controls (Next/Previous, page indicator)\n4. Optional: Add page size selector (20, 50, 100)\n\n## Files to Modify\n- frontend/src/components/TAFLibrary.jsx - Add pagination state and controls\n- frontend/src/context/TAFLibraryContext.jsx - Update fetch logic\n- frontend/src/api/client.js - Add pagination params to API call\n\n## Dependencies\n- Requires: Backend pagination support (teddycloud-custom-tag-helper-xxx)\n\n## Acceptance Criteria\n- [ ] Shows pagination controls below file list\n- [ ] Fetches only current page from backend\n- [ ] Total count displayed (e.g. 'Page 1 of 5')\n- [ ] Smooth navigation between pages","status":"closed","priority":2,"issue_type":"task","assignee":"--json","created_at":"2025-12-26T15:51:26.8058943+01:00","updated_at":"2025-12-26T17:46:25.0364515+01:00","closed_at":"2025-12-26T17:46:25.0364515+01:00","close_reason":"Implemented frontend pagination UI with shared Pagination component, updated all views (TAFLibrary, TonieGrid, RFIDTagsView), API client, and translations","dependencies":[{"issue_id":"teddycloud-custom-tag-helper-snt","depends_on_id":"teddycloud-custom-tag-helper-ybn","type":"blocks","created_at":"2025-12-26T15:53:14.8254319+01:00","created_by":"daemon"}]}
{"id":"teddycloud-custom-tag-helper-x06","title":"Fix settings changes requiring page reload","description":"## Problem\nWhen user changes selected Toniebox in Settings dialog:\n- TagStatusField continues showing old box's data\n- Changes only take effect after full page reload\n- State not synchronized between components\n\n## Root Cause\n- Dashboard.jsx loads config once on mount (line 86-94)\n- selectedBox state not updated when Settings saves new value\n- No event/callback to notify Dashboard of config changes\n\n## Expected Behavior\nSettings changes should take effect immediately without page reload.\n\n## Files to Modify\n- frontend/src/components/SettingsDialog.jsx - Emit callback when box changes\n- frontend/src/pages/Dashboard.jsx - Handle box change callback, update state\n\n## Acceptance Criteria\n- [ ] Changing box in Settings immediately updates TagStatusField\n- [ ] No page reload required\n- [ ] Config persisted to backend correctly","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T15:51:03.454757+01:00","updated_at":"2025-12-26T15:51:03.454757+01:00"}
{"id":"teddycloud-custom-tag-helper-y2q","title":"Add missing translations to RFIDTagsView, TonieCard, CoverSelector","description":"## Problem\nThree components have hardcoded English strings not using i18n.\n\n## RFIDTagsView.jsx (3 strings)\n| Line | String | German |\n|------|--------|--------|\n| 56 | 'Assigned'/'Unconfigured' | 'Zugewiesen'/'Nicht konfiguriert' |\n| 206 | 'No TAF file' | 'Keine TAF Datei' |\n| 255 | 'Custom'/'Official' | 'Eigene'/'Offiziell' |\n\n## TonieCard.jsx (2 strings)\n| Line | String | German |\n|------|--------|--------|\n| 60 | 'Tracks:' | 'Titel:' |\n| 71 | 'Edit' | 'Bearbeiten' |\n\n## CoverSelector.jsx (2 strings)\n| Line | String | German |\n|------|--------|--------|\n| 130 | 'Show less'/'Show all...covers' | 'Weniger anzeigen'/'Alle...Cover anzeigen' |\n| 174 | 'No covers found...' | 'Keine Cover gefunden...' |\n\n## Files to Modify\n- - - - - \n## Acceptance Criteria\n- [ ] All 7 strings use t() function\n- [ ] Translation keys added to both locale files","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T15:50:40.0556972+01:00","updated_at":"2025-12-26T16:12:41.3952696+01:00","closed_at":"2025-12-26T16:12:41.3952696+01:00","close_reason":"Added all missing translations to components and locale files"}
{"id":"teddycloud-custom-tag-helper-ybn","title":"Add pagination support to backend API endpoints","description":"## Problem\nAll list endpoints return complete datasets without pagination:\n- GET /taf-library/ - returns ALL TAF files\n- GET /tonies/ - returns ALL tonies  \n- GET /rfid-tags/ - returns ALL tags\n\nThis causes performance issues with large libraries (100+ items).\n\n## Changes Needed\n\n### Add pagination parameters to endpoints:\n- skip: int (offset, default 0)\n- limit: int (page size, default 50)\n- filter: str (optional, for server-side filtering)\n\n### Create paginated response models:\nPaginatedResponse with: items, total_count, page, page_size, has_next\n\n## Files to Modify\n- backend/app/models/schemas.py - Add pagination response models\n- backend/app/api/taf_library.py - Add skip/limit params\n- backend/app/api/tonies.py - Add skip/limit params\n- backend/app/api/rfid_tags.py - Add skip/limit params\n\n## Acceptance Criteria\n- [ ] All list endpoints accept skip and limit params\n- [ ] Response includes pagination metadata\n- [ ] Default behavior returns first 50 items\n- [ ] Total count still returned for UI pagination controls","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-26T15:51:25.505573+01:00","updated_at":"2025-12-26T16:44:11.7254433+01:00","closed_at":"2025-12-26T16:44:11.7254433+01:00","close_reason":"Implemented pagination support for all three backend list endpoints"}
{"id":"teddycloud-custom-tag-helper-zo8","title":"Bug Fixes \u0026 UI Improvements Sprint","description":"Epic issue tracking the overall effort to fix bugs and improve UI consistency.\n\n## Scope\n\n### 1. Default Language Bug\nWhen creating a new tonie, language defaults to English regardless of settings.\n\n### 2. Translation Inconsistencies  \n30+ hardcoded English strings not using i18n system.\n\n### 3. Multiple Tonieboxes Support\nFrontend UX issues when multiple boxes are configured.\n\n### 4. Pagination\nNo pagination for file lists causing performance issues.\n\n## Success Criteria\n- All bugs fixed and verified\n- Consistent German/English translations\n- Multi-box workflow functional\n- Large libraries performant","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-26T15:49:56.7880238+01:00","updated_at":"2025-12-26T15:49:56.7880238+01:00"}
